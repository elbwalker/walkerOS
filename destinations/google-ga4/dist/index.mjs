var h=Object.defineProperty;var f=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var p=(e,n,t)=>n in e?h(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,c=(e,n)=>{for(var t in n||={})k.call(n,t)&&p(e,t,n[t]);if(f)for(var t of f(n))y.call(n,t)&&p(e,t,n[t]);return e};var A={config:{custom:{measurementId:""}},init(e){let n=window,t=e.custom||{},r={};return t.measurementId?(t.transport_url&&(r.transport_url=t.transport_url),t.pageview===!1&&(r.send_page_view=!1),e.loadScript&&D(t.measurementId),n.dataLayer=n.dataLayer||[],n.gtag||(n.gtag=function(){n.dataLayer.push(arguments)},n.gtag("js",new Date)),n.gtag("config",t.measurementId,r),!0):!1},push(e,n,t={}){let r=n.custom,o=t.custom||{};if(!r||!r.measurementId)return;let a={},s=o.include||r.include||["data"];s.includes("all")&&(s=["context","data","event","globals","user"]),s.forEach(i=>{let d=e[i];i=="event"&&(d={id:e.id,timing:e.timing,trigger:e.trigger,entity:e.entity,action:e.action,group:e.group,count:e.count}),Object.entries(d).forEach(([b,m])=>{i=="context"&&(m=m[0]),a[`${i}_${b}`]=m})}),Object.assign(a,w(c(c({},r.params),o.params),e));let l=[];for(var u=0,G=e.nested.length||1;u<G;u++){let i=w(c(c({},r.items&&r.items.params),o.items&&o.items.params),e,u);i&&l.push(i)}l.length&&(a.items=l);let g=e.event;!t.name&&r.snakeCase!==!1&&(g=g.replace(" ","_").toLowerCase()),a.send_to=r.measurementId,r.debug&&(a.debug_mode=!0),window.gtag("event",g,a)}};function D(e,n="https://www.googletagmanager.com/gtag/js?id="){let t=document.createElement("script");t.src=n+e,document.head.appendChild(t)}function w(e,n,t=0){let r={};return Object.entries(e).forEach(([o,a])=>{let s,l;typeof a=="string"?s=a:(s=a.key,l=a.default);let u=I(n,s,t)||l;u&&(r[o]=u)}),Object.keys(r).length?r:!1}function I(e,n,t){return n.split(".").reduce((o,a)=>{if(a=="*"&&(a=String(t)),o instanceof Object)return o[a]},e)}var j=A;export{j as default};
