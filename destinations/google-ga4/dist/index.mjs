var w={config:{custom:{measurementId:""}},init(e){let r=window,n=e.custom||{},t={};return n.measurementId?(n.transport_url&&(t.transport_url=n.transport_url),n.pageview===!1&&(t.send_page_view=!1),e.loadScript&&G(n.measurementId),r.dataLayer=r.dataLayer||[],r.gtag||(r.gtag=function(){r.dataLayer.push(arguments)},r.gtag("js",new Date)),r.gtag("config",n.measurementId,t),!0):!1},push(e,r,n={}){let t=r.custom,o=n.custom||{};if(!t||!t.measurementId)return;let a={},s=o.include||t.include||["data"];s.includes("all")&&(s=["context","data","event","globals","user"]),s.forEach(i=>{let m=e[i];i=="event"&&(m={id:e.id,timing:e.timing,trigger:e.trigger,entity:e.entity,action:e.action,group:e.group,count:e.count}),Object.entries(m).forEach(([p,g])=>{i=="context"&&(g=g[0]),a[`${i}_${p}`]=g})}),Object.assign(a,d({...t.params,...o.params},e));let l=[];for(var u=0,f=e.nested.length||1;u<f;u++){let i=d({...t.items&&t.items.params,...o.items&&o.items.params},e,u);i&&l.push(i)}l.length&&(a.items=l);let c=e.event;!n.name&&t.snakeCase!==!1&&(c=c.replace(" ","_").toLowerCase()),a.send_to=t.measurementId,t.debug&&(a.debug_mode=!0),window.gtag("event",c,a)}};function G(e,r="https://www.googletagmanager.com/gtag/js?id="){let n=document.createElement("script");n.src=r+e,document.head.appendChild(n)}function d(e,r,n=0){let t={};return Object.entries(e).forEach(([o,a])=>{let s,l;typeof a=="string"?s=a:(s=a.key,l=a.default);let u=b(r,s,n)||l;u&&(t[o]=u)}),Object.keys(t).length?t:!1}function b(e,r,n){return r.split(".").reduce((o,a)=>{if(a=="*"&&(a=String(n)),o instanceof Object)return o[a]},e)}var h=w;export{h as default};
