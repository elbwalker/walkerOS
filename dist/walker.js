!function(){"use strict";function e(e,t={}){return Object.entries(t).forEach((([n,r])=>{const o=e[n];Array.isArray(o)&&Array.isArray(r)&&(t[n]=r.reduce(((e,t)=>e.includes(t)?e:[...e,t]),[...o]))})),{...e,...t}}function t(e){if("true"===e)return!0;if("false"===e)return!1;const t=Number(e);return e==t&&""!==e?t:String(e)}function n(e,t){return e.getAttribute(t)||""}function r(e=6){for(var t="";t.length<e;)t+=(36*Math.random()|0).toString(36);return t}function o(e){const t=getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(t.opacity&&Number(t.opacity)<.1)return!1;let n;const r=window.innerHeight,o=e.getBoundingClientRect(),i=o.height,c=o.y,u=c+i,s={x:o.x+e.offsetWidth/2,y:o.y+e.offsetHeight/2};if(i<=r){if(e.offsetWidth+o.width===0||e.offsetHeight+o.height===0)return!1;if(s.x<0)return!1;if(s.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(s.y<0)return!1;if(s.y>(document.documentElement.clientHeight||window.innerHeight))return!1;n=document.elementFromPoint(s.x,s.y)}else{const e=r/2;if(c<0&&u<e)return!1;if(u>r&&c>e)return!1;n=document.elementFromPoint(s.x,r/2)}if(n)do{if(n===e)return!0}while(n=n.parentElement);return!1}function i(e){return e?e.trim().replace(/^'|'$/g,"").trim():""}function c(e){return function(...t){try{return e(...t)}catch(e){return void console.error("walker",e)}}}function u(e,t,n=!0){return e+(null!=t?(n?"-":"")+t:"")}function s(e,r,o,i=!0){return p(n(r,u(e,o,i))||"").reduce(((e,n)=>{let[o,i]=m(n);if(!o)return e;if(i||(":"===o.charAt(o.length-1)&&(o=o.slice(0,-1)),i=""),"#"===i.charAt(0)){i=i.substring(1);try{let e=r[i];e||"selected"!==i||(e=r.options[r.selectedIndex].text),e&&(i=e)}catch(e){i=""}}return"[]"===o.slice(-2)?(o=o.slice(0,-2),Array.isArray(e[o])||(e[o]=[]),e[o].push(t(i))):e[o]=t(i),e}),{})}function a(t){const n=`[${u(t,"globals",!1)}]`;let r={};return document.querySelectorAll(n).forEach((n=>{r=e(r,s(t,n,"globals",!1))})),r}function f(e){const t={};return p(e).forEach((e=>{let[n,r]=m(e);const[o,i]=w(n);if(!o)return;let[c,u]=w(r||"");c=c||o,t[o]||(t[o]=[]),t[o].push({trigger:o,triggerParams:i,action:c,actionParams:u})})),t}function l(e,t,n){const r=[];let o=t;for(n=0!==Object.keys(n||{}).length?n:void 0;o;){const i=d(e,o,t);!i||n&&!n[i.type]||r.push(i),o=g(e,o)}return r}function d(t,r,o){const i=n(r,u(t));if(!i)return null;const c=[r],a=`[${u(t,i)}],[${u(t,"")}]`,f=u(t,"link",!1);let[l,g]=h(o||r,a,t,i);r.querySelectorAll(`[${f}]`).forEach((e=>{let[t,r]=m(n(e,f));"parent"===r&&document.querySelectorAll(`[${f}="${t}:child"]`).forEach((t=>{t!==e&&c.push(t)}))}));let p=[];c.forEach((e=>{e.matches(a)&&p.push(e),e.querySelectorAll(a).forEach((e=>{p.push(e)}))}));let w={},y={};p.forEach((n=>{y=e(y,s(t,n,"")),w=e(w,s(t,n,i))})),w=e(l,e(y,w));const b=[];return r.querySelectorAll(`[${u(t)}]`).forEach((e=>{const n=d(t,e);n&&b.push(n)})),{type:i,data:w,context:g,nested:b}}function g(e,t){const r=u(e,"link",!1);if(t.matches(`[${r}]`)){let[e,o]=m(n(t,r));if("child"===o)return document.querySelector(`[${r}="${e}:parent"]`)}return t.parentElement}function h(t,n,r,o){let i={},c={},a=t;const f=`[${u(r,"context",!1)}]`;let l=0;for(;a;)a.matches(n)&&(i=e(s(r,a,""),i),i=e(s(r,a,o),i)),a.matches(f)&&(Object.entries(s(r,a,"context",!1)).forEach((([e,t])=>{c[e]||(c[e]=[t,l])})),++l),a=g(r,a);return[i,c]}function p(e,t=";"){if(!e)return[];const n=new RegExp(`(?:[^${t}']+|'[^']*')+`,"ig");return e.match(n)||[]}function m(e){const[t,n]=e.split(/:(.+)/,2);return[i(t),i(n)]}function w(e){const[t,n]=e.split("(",2);return[t,n?n.slice(0,-1):""]}let y,b,v=[];function E(e,t){const n=()=>{e(t)};"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)}function x(e){e.config.pageview&&function(e){const t=window.location,n={domain:t.hostname,title:document.title,referrer:document.referrer};t.search&&(n.search=t.search),t.hash&&(n.hash=t.hash),e.config.elbLayer.push("page view",n,"load")}(e),A(e)}function k(e){document.addEventListener("click",c((function(t){$.call(this,e,t)}))),document.addEventListener("submit",c((function(t){S.call(this,e,t)})))}function A(e,t=document){v=[],y=y||c(O)(e,1e3);const n=u(e.config.prefix,"action",!1);t===document?y&&y.disconnect():L(e,t,n),t.querySelectorAll(`[${n}]`).forEach((t=>L(e,t,n))),v.length&&function(e){const t=(e,t)=>e.filter((([e,n])=>{const r=window.scrollY+window.innerHeight,o=e.offsetTop;if(r<o)return!0;const i=e.clientHeight;return!(100*(1-(o+i-r)/(i||1))>=n&&(q(t,e,"scroll"),1))}));b||(b=function(e,t=1e3){let n;return function(...r){if(!n)return n=setTimeout((()=>{n=0}),t),e(...r)}}((function(){v=t.call(document,v,e)})),document.addEventListener("scroll",b))}(e)}function q(e,t,r){(function(e,t,r="data-elb"){const o=[],i=function(e,t,r){let o=t;for(;o;){const t=f(n(o,u(e,"action",!1)));if(t[r]||"click"!==r)return t[r];o=g(e,o)}return[]}(r,e,t);return i?(i.forEach((n=>{const i=p(n.actionParams||"",",").reduce(((e,t)=>(e[t]=!0,e)),{}),c=l(r,e,i);if(!c.length){const t="page",n=`[${u(r,t)}]`;let[o,i]=h(e,n,r,t);c.push({type:t,data:o,nested:[],context:i})}c.forEach((e=>{o.push({entity:e.type,action:n.action,data:e.data,trigger:t,context:e.context,nested:e.nested})}))})),o):o})(t,r,e.config.prefix).forEach((t=>{e.config.elbLayer.push(`${t.entity} ${t.action}`,t.data,r,t.context,t.nested)}))}function L(e,t,r){const o=n(t,r);o&&Object.values(f(o)).forEach((n=>n.forEach((n=>{switch(n.trigger){case"hover":!function(e,t){t.addEventListener("mouseenter",c((function(t){t.target instanceof Element&&q(e,t.target,"hover")})))}(e,t);break;case"load":!function(e,t){q(e,t,"load")}(e,t);break;case"pulse":!function(e,t,n=""){setInterval((()=>{document.hidden||q(e,t,"pulse")}),parseInt(n||"")||15e3)}(e,t,n.triggerParams);break;case"scroll":!function(e,t=""){let n=parseInt(t||"")||50;n<0||n>100||v.push([e,n])}(t,n.triggerParams);break;case"visible":!function(e,t){t&&t.observe(e)}(t,y);break;case"wait":!function(e,t,n=""){setTimeout((()=>q(e,t,"wait")),parseInt(n||"")||15e3)}(e,t,n.triggerParams)}}))))}function $(e,t){q(e,t.target,"click")}function S(e,t){q(e,t.target,"submit")}function O(e,t=1e3){if(window.IntersectionObserver)return new window.IntersectionObserver((n=>{n.forEach((n=>{const r=n.target,i="elbTimerId";let c=Number(r.dataset[i]);if(n.intersectionRatio>0&&(r.offsetHeight>window.innerHeight&&o(r)||n.intersectionRatio>=.5))return c=c||window.setTimeout((function(){o(r)&&(q(e,r,"visible"),delete r.dataset[i],y&&y.unobserve(r))}),t),void(r.dataset[i]=String(c));c&&(clearTimeout(c),delete r.dataset[i])}))}),{rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5]})}let H,P;const I=document.querySelector("script.elbwalker");I&&(H=!!n(I,"data-default"),P=parseInt(n(I,"data-version")||"1"));const j=function(t={}){const n=[],o="walker run",i=t.globals||{},u={push:function(e,t,r="",i={},c=[]){if(!e||"string"!=typeof e)return;const a=u.config;if(!a.allowed&&e!=o)return;const[d,w]=e.split(" ");if(!d||!w)return;if("walker"===d)return void function(e,t,r,o){switch(t){case"config":h(r)&&(e.config=f(r,e.config));break;case"consent":h(r)&&function(e,t){let r=!1;if(Object.entries(t).forEach((([t,n])=>{const o=!!n;e.config.consent[t]=o,r=r||o})),r){const t=e.config;n.forEach((n=>{let r=n.queue||[];n.queue=r.filter((r=>(r.consent=t.consent,r.globals=t.globals,r.user=t.user,!p(e,n,r,!1))))}))}}(e,r);break;case"destination":h(r)&&s(e,r,o);break;case"init":(Array.isArray(r)?r:[r||document]).forEach((t=>{g(t)&&A(e,t)}));break;case"run":E(m,e);break;case"user":h(r)&&function(e,t){const n=e.config.user;t.id&&(n.id=t.id),t.device&&(n.device=t.device),t.session&&(n.session=t.session)}(e,r)}}(u,w,t,r);let y,b=!1;if(g(t)?(y=t,b=!0):g(i)&&(y=i),y){const e=l(a.prefix,y).find((e=>e.type==d));e&&(t=b?e.data:t,i=e.context)}t=t||{},"page"===d&&(t.id=t.id||window.location.pathname),++a.count;const v=Date.now(),x=Math.round((performance.now()-a.timing)/10)/100,k=`${v}-${a.group}-${a.count}`,q={type:1,id:window.location.href,previous_id:document.referrer},L={event:e,data:t,context:i,globals:a.globals,user:a.user,nested:c,consent:a.consent,id:k,trigger:r,entity:d,action:w,timestamp:v,timing:x,group:a.group,count:a.count,version:{config:a.version,walker:1.6},source:q};a.queue.push(L),n.forEach((e=>{p(u,e,L)}))},config:f(t)};function s(e,t,r){if(!t.push)return;const o=r||t.config||{init:!1},i={init:t.init,push:t.push,config:o};!1!==o.queue&&e.config.queue.forEach((t=>{p(e,i,t)})),n.push(i)}function f(t,n={}){return{allowed:t.allowed||n.allowed||!1,consent:t.consent||n.consent||{},count:t.count||n.count||0,elbLayer:t.elbLayer||n.elbLayer||(window.elbLayer=window.elbLayer||[]),globals:e(i,e(n.globals||{},t.globals||{})),group:t.group||n.group||"",pageview:"pageview"in t?!!t.pageview:n.pageview||!0,prefix:t.prefix||n.prefix||"data-elb",queue:t.queue||n.queue||[],round:t.round||n.round||0,timing:t.timing||n.timing||0,user:t.user||n.user||{},version:t.version||n.version||0}}function d(e){return{}.hasOwnProperty.call(e,"callee")}function g(e){return e===document||e instanceof HTMLElement}function h(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function p(e,t,n,r=!0){if(n=JSON.parse(JSON.stringify(n)),!function(e,t){let n=!0;const r=t.config.consent;if(r){n=!1;const t=e.config.consent;Object.keys(r).forEach((e=>{t[e]&&(n=!0)}))}return n}(e,t))return r&&(t.queue=t.queue||[],t.queue.push(n)),!1;let o;const i=t.config.mapping;if(i){const e=i[n.entity]||i["*"]||{};if(o=e[n.action]||e["*"],o){if(o.ignore)return!1;o.name&&(n.event=o.name)}if(!o)return!1}return!!c((()=>{if(t.init&&!t.config.init){const e=t.init(t.config);if(t.config.init=e,!e)return!1}return t.push(n,t.config,o,e.config),!0}))()}function m(t){t.config=e(t.config,{allowed:!0,count:0,globals:e(i,a(t.config.prefix)),group:r()}),t.config.queue=[],n.forEach((e=>{e.queue=[]})),1==++t.config.round?function(e){const t=[],n=[];let r=!0;e.config.elbLayer.map((e=>{let[i,c,u,s,a]=[...Array.from(e)];({}).hasOwnProperty.call(i,"callee")&&([i,c,u,s,a]=[...Array.from(i)]),"string"==typeof i&&(r&&i==o?r=!1:i.startsWith("walker ")?t.push([i,c,u,s,a]):n.push([i,c,u,s,a]))})),t.concat(n).map((t=>{const[n,r,o,i,c]=t;e.push(String(n),r,o,i,c)}))}(t):t.config.timing=performance.now(),c(x)(t)}return function(e){const t=e.config.elbLayer;t.push=function(t,n,r,o,i){d(t)&&([t,n,r,o,i]=[...Array.from(t)]);let c=Array.prototype.push.apply(this,[arguments]);return e.push(String(t),n,r,o,i),c},t.find((e=>(e=d(e)?e[0]:e)==o))&&E(m,e)}(u),t.default&&(window.dataLayer=window.dataLayer||[],s(u,{config:{},push:e=>{window.dataLayer.push({...e,walker:!0})}}),E(m,u)),k(u),u}({default:H,version:P});window.elbwalker=j,window.elb=function(){(window.elbLayer=window.elbLayer||[]).push(arguments)}}();