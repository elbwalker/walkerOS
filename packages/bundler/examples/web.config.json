{
  "packages": [
    {
      "name": "@walkeros/core",
      "version": "latest",
      "imports": []
    },
    {
      "name": "@walkeros/collector",
      "version": "latest",
      "imports": []
    },
    {
      "name": "@walkeros/web-source-browser",
      "version": "latest",
      "imports": ["sourceBrowser"]
    },
    {
      "name": "@walkeros/web-destination-api",
      "version": "latest",
      "imports": ["destinationAPI"]
    },
    {
      "name": "@walkeros/web-destination-gtag",
      "version": "latest",
      "imports": ["destinationGtag"]
    }
  ],
  "content": "// Console destination for debugging\nconst consoleDestination = {\n  type: 'console',\n  config: {},\n  push(event) {\n    console.log('ðŸ“Š Event captured:', {\n      name: event.name,\n      data: event.data,\n      timing: event.timing\n    });\n  }\n};",
  "template": {
    "file": "templates/web.hbs",
    "variables": {
      "collectorName": "walker",
      "sources": [
        {
          "name": "browser",
          "code": "sourceBrowser",
          "config": "{\"settings\":{\"pageview\":true,\"session\":true,\"elb\":\"elb\",\"prefix\":\"data-elb\"}}",
          "env": "{}"
        }
      ],
      "destinations": [
        {
          "name": "console",
          "code": "consoleDestination",
          "config": "{}",
          "env": "{}"
        },
        {
          "name": "api",
          "code": "destinationAPI",
          "config": "{\"settings\":{\"url\":\"https://analytics.example.com/events\",\"method\":\"POST\",\"headers\":{\"Content-Type\":\"application/json\",\"X-API-Key\":\"your-api-key\"}}}",
          "env": "{sendWeb:(url,body,options)=>{console.log('ðŸ“¡ API Call:',{url,body,options});}}"
        },
        {
          "name": "gtag",
          "code": "destinationGtag",
          "config": "{\"settings\":{\"ga4\":{\"measurementId\":\"G-XXXXXXXXXX\"},\"ads\":{\"conversionId\":\"AW-XXXXXXXXX\"}},\"mapping\":{\"order\":{\"complete\":{\"name\":\"purchase\",\"settings\":{\"ga4\":{\"include\":[\"data\",\"context\"]},\"ads\":{}},\"data\":{\"map\":{\"transaction_id\":\"data.id\",\"value\":\"data.total\",\"currency\":{\"key\":\"data.currency\",\"value\":\"EUR\"},\"tax\":\"data.tax\",\"shipping\":\"data.shipping\"}}}}}}",
          "env": "{window:{gtag:(...args)=>{console.log('ðŸŽ¯ Gtag Call:',args);}}}"
        }
      ]
    }
  },
  "build": {
    "platform": "browser",
    "format": "iife",
    "minify": true,
    "sourcemap": false,
    "target": "es2020"
  },
  "output": {
    "filename": "web-collector.js",
    "dir": "./dist"
  }
}
