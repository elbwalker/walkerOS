{
  "config": {
    "sources": {
      "browser": {
        "code": "sourceBrowser",
        "config": {
          "settings": {
            "pageview": true,
            "session": true,
            "elb": "elb",
            "prefix": "data-elb"
          }
        }
      }
    },
    "destinations": {
      "gtag": {
        "code": "destinationGtag",
        "config": {
          "settings": {
            "ga4": {
              "measurementId": "G-XXXXXXXXXX"
            }
          },
          "mapping": {
            "page": {
              "view": {
                "name": "page_view",
                "data": {
                  "map": {
                    "page_title": "data.title",
                    "page_location": "data.url"
                  }
                }
              }
            },
            "product": {
              "view": {
                "name": "view_item",
                "data": {
                  "map": {
                    "currency": { "value": "USD" },
                    "item_id": "data.id",
                    "item_name": "data.name",
                    "item_category": "data.category",
                    "price": "data.price"
                  }
                }
              },
              "add": {
                "name": "add_to_cart",
                "data": {
                  "map": {
                    "currency": { "value": "USD" },
                    "value": "data.price",
                    "item_id": "data.id",
                    "item_name": "data.name"
                  }
                }
              }
            },
            "order": {
              "complete": {
                "name": "purchase",
                "data": {
                  "map": {
                    "transaction_id": "data.id",
                    "value": "data.total",
                    "currency": { "value": "USD" },
                    "items": {
                      "loop": [
                        "nested.product",
                        {
                          "map": {
                            "item_id": "data.id",
                            "item_name": "data.name",
                            "quantity": "data.quantity",
                            "price": "data.price"
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "api": {
        "code": "destinationAPI",
        "config": {
          "settings": {
            "url": "https://api.example.com/events",
            "method": "POST",
            "headers": {
              "Content-Type": "application/json",
              "Authorization": "Bearer YOUR_API_KEY"
            }
          }
        },
        "env": {
          "sendWeb": "fetch"
        }
      }
    },
    "run": true,
    "consent": {
      "functional": true
    },
    "globals": {
      "language": "en",
      "currency": "USD",
      "environment": "production"
    }
  },
  "packages": [
    {
      "name": "@walkeros/collector",
      "version": "^0.0.8"
    },
    {
      "name": "@walkeros/web-source-browser",
      "version": "^0.0.8"
    },
    {
      "name": "@walkeros/web-destination-gtag",
      "version": "^0.0.8"
    },
    {
      "name": "@walkeros/web-destination-api",
      "version": "^0.0.8"
    }
  ]
}
