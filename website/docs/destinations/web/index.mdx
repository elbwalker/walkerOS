---
title: Web Destinations
description: Send events from the browser to analytics tools and services
sidebar_position: 1
---

import { EnvironmentBadges } from '@site/src/components/docs/environment-badges';

# Web Destinations

<EnvironmentBadges web={true} server={false} />

Web destinations enable you to send events from the browser to various analytics tools, marketing platforms, and custom endpoints. These destinations run in the browser environment and can access browser-specific APIs and features.

## Available Destinations

### Analytics & Marketing

- **[API Destination](./api)** - Send events to any custom API endpoint
- **[Google Tag Manager (Gtag)](./gtag)** - Google Analytics 4, Google Ads, and GTM
- **[Meta Pixel](./meta)** - Facebook/Meta Pixel tracking
- **[Piwik PRO](./piwikpro)** - Privacy-focused analytics platform
- **[Plausible](./plausible)** - Simple, privacy-friendly analytics

## Installation

All web destinations follow the same installation pattern:

```bash
npm install @walkerOS/web-destination-[name]
```

## Usage Pattern

Web destinations are added to the collector using the `destination` method:

<EXPLORER config="collector, web-destination-api">
```typescript
import { Collector } from '@walkerOS/collector';
import { destinationAPI } from '@walkerOS/web-destination-api';

const collector = Collector.create();

// Add a destination
collector.destination('myDestination', destinationAPI, {
  settings: {
    // Destination-specific settings
  },
  mapping: {
    // Event mapping rules
  },
});
```
</EXPLORER>

## Common Features

### Event Mapping

All destinations support event mapping to transform walkerOS events into the format expected by the destination:

```typescript
const mapping = {
  // Map entity/action combinations
  user: {
    login: {
      // Mapping rules
    },
  },
  // Wildcard mapping for all actions
  page: {
    '*': {
      // Mapping rules
    },
  },
};
```

### Error Handling

Handle destination errors using the collector's error event:

```typescript
collector.on('error', (error) => {
  if (error.source === 'destination') {
    console.error(`Destination ${error.destination} error:`, error);
  }
});
```

### Debugging

Enable verbose logging for any destination:

```typescript
collector.destination('myDest', destination, {
  verbose: true,
  settings: {
    // ...
  },
});
```

## Browser Considerations

### Content Security Policy (CSP)

When using web destinations, ensure your CSP allows:
- Connections to destination endpoints
- Script execution if required by the destination
- Any specific requirements of the destination service

### CORS

Some destinations may require CORS configuration on your server or the destination endpoint.

### Page Performance

Web destinations run in the browser and can impact page performance. Consider:
- Loading destinations asynchronously
- Using the beacon transport for critical events
- Implementing batching where appropriate

## Privacy & Consent

Always respect user privacy and consent:

```typescript
// Only add destinations after consent
if (hasUserConsent('analytics')) {
  collector.destination('analytics', destination, config);
}

// Remove destinations when consent is revoked
collector.on('consent:revoked', (category) => {
  if (category === 'analytics') {
    collector.removeDestination('analytics');
  }
});
```

## Migration from elbwalker

If migrating from elbwalker packages:

1. Update package names from `@elbwalker/destination-web-*` to `@walkerOS/web-destination-*`
2. Update imports to use named exports
3. Use the new collector API instead of the `elb` function
4. Configuration structure remains largely the same

## See Also

- [Collector Documentation](/docs/collector)
- [Event Mapping Guide](/docs/guides/event-mapping)
- [Server Destinations](/docs/destinations/server)
- [Privacy & Consent](/docs/guides/consent)