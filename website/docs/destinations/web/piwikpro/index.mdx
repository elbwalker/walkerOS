---
title: Piwik PRO
description: How to send events to Piwik PRO with walker.js
---

import PackageLink from '@site/src/components/docs/package-link';
import Link from '@docusaurus/Link';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import { getEvent } from '@walkerOS/core';
import {
  DestinationContextProvider,
  DestinationInit,
  DestinationPush,
} from '@site/src/components/organisms/liveDestination';
import { destinationPiwikPro } from '@walkerOS/web-destination-piwikpro';
import { destinationPiwikProExamples } from '@walkerOS/web-destination-piwikpro/examples';

<DestinationContextProvider
  destination={destinationPiwikPro}
  fnName='_paq.push'
>

<PackageLink
  browser="@walkerOS/web-destination-piwikpro"
  es5="@walkerOS/web-destination-piwikpro"
  github="packages/web/destinations/piwikpro"
  npm="@walkerOS/web-destination-piwikpro"
/>

[Piwik PRO](https://piwik.pro/) is a European, privacy-focused web analytics and
marketing platform that helps businesses track website traffic and user
behavior.

## Installation

<Tabs>
  <TabItem value="ts" label="TypeScript" default>
Install the destination via npm

```bash
npm i @walkerOS/web-destination-piwikpro
```

```js
import { elb } from '@walkerOS/web-collector';
import { destinationPiwikPro } from '@walkerOS/web-destination-piwikpro';

elb('walker destination', destinationPiwikPro, config);
```

  </TabItem>
  <TabItem value="script" label="Script">

Load the destination via dynamic import

```html
<script>
  // Upload the dist/index.mjs on your own server
  const destination = (
    await import(
      'https://cdn.jsdelivr.net/npm/@walkerOS/web-destination-piwikpro/dist/index.mjs'
    )
  ).default;

  elb('walker destination', destination, config);
</script>
```

  </TabItem>
  <TabItem value="code" label="Code">
Copy the code from the&nbsp;<Link to="https://cdn.jsdelivr.net/npm/@walkerOS/web-destination-piwikpro@latest/dist/index.browser.js">index.browser.js</Link> file

```js
(function () {
  'use strict';
  var Destination = (() => {})(); // This is the copied code

  elb('walker destination', Destination.destinationPiwikPro, config);
})();
```

  </TabItem>
</Tabs>

## Configuration

Configure your PiwikPro destination with
your&nbsp;<Link to="https://help.piwik.pro/support/questions/find-website-id/#:~:text=Navigate%20to%20Sites%20%26%20apps.,the%20site%20or%20app%20name.">App
ID</Link> and URL.

<DestinationInit
  custom={`{
    appId: 'XXX-XXX-XXX-XXX-XXX', // Id of the site
    // linkTracking: false, // Disable download and outlink tracking
    url: 'https://your_account_name.piwik.pro/', // Same address as the login
  }`}
/>

### Custom

| Property     | Type    | Description                                    |
| ------------ | ------- | ---------------------------------------------- |
| appId\*      | string  | ID of the Piwik PRO site                       |
| url\*        | string  | URL of your Piwik PRO account                  |
| linkTracking | boolean | Enables/Disables download and outlink tracking |
| pageview     | boolean | Enables/Disables default pageview events       |

Properties with a `*` are required.

### CustomEvent

For custom event mapping (`mapping.entity.action.custom`):

| Property  | Type   | Description                             |
| --------- | ------ | --------------------------------------- |
| goalId    | string | ID to count the event as a goal         |
| goalValue | string | Property to be used as the goal value   |
| name      | string | Custom name for the event               |
| value     | string | Property to be used for the event value |

## Mapping

You are able to map your walkerOS events to match the respective requirements of
each vendor. The `mapping` examples are using a
live&nbsp;<Link to="#configuration">configuration</Link>.

:::tip

The code examples are interactive. You can edit the code to generate your
individual event mapping.

:::

### ProductDetailView

Map your walkerOS event to get
an&nbsp;<Link to="https://developers.piwik.pro/docs/ecommerceproductdetailview#examples">ecommerceProductDetailView</Link>
event.

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('product view')}
  mapping={destinationPiwikProExamples.mapping.ecommerceProductDetailView}
/>

### AddToCart

Map your walkerOS event to get
an&nbsp;<Link to="https://developers.piwik.pro/docs/ecommerceaddtocart#examples">ecommerceAddToCart</Link>
event.

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('product add')}
  mapping={destinationPiwikProExamples.mapping.ecommerceAddToCart}
/>

### CartUpdate

Map your walkerOS event to get
an&nbsp;<Link to="https://developers.piwik.pro/docs/ecommercecartupdate#examples">ecommerceCartUpdate</Link>
event.

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('cart view')}
  mapping={destinationPiwikProExamples.mapping.ecommerceCartUpdate}
/>

### Order

Map your walkerOS event to get
an&nbsp;<Link to="https://developers.piwik.pro/docs/ecommerceorder#examples">ecommerceOrder</Link>
event.

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('order complete')}
  mapping={destinationPiwikProExamples.mapping.ecommerceOrder}
/>

</DestinationContextProvider>
