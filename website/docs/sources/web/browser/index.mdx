---
title: Browser Source
description: DOM-based event tracking for web applications
sidebar_position: 1
package: '@walkeros/web-source-browser'
---

import SettingsTable from '@site/src/components/molecules/SettingsTable';
import Link from '@docusaurus/Link';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import PackageLink from '@site/src/components/docs/package-link';

<PackageLink
  github="packages/web/sources/browser"
  npm="@walkeros/web-source-browser"
/>

# Browser Source

The Browser Source is walkerOS's primary web tracking solution that you can use
to capture user interactions directly from the browsers DOM.

## What It Does

The Browser Source transforms your website into a comprehensive tracking
environment by:

- **Data attribute reading**: Extracts custom tracking data from HTML `data-elb`
  attributes
- **Session management**: Detects and handles user sessions automatically

## Installation

<Tabs>
  <TabItem value="npm" label="npm" default>
Install the source via npm

```bash
npm install @walkeros/web-source-browser
```

Setup in your project

```js
import { createCollector } from '@walkeros/collector';
import { createSource } from '@walkeros/core';
import { sourceBrowser } from '@walkeros/web-source-browser';

const { collector, elb } = await createCollector({
  sources: {
    browser: createSource(sourceBrowser, {
      settings: {
        prefix: 'data-elb',
        pageview: true,
        session: true,
      },
    }),
  },
});
```

</TabItem>
<TabItem value="script" label="script">
Load the source via dynamic import

```html
<script>
  // Load the collector, core utilities, and source
  const { createCollector } = await import(
    'https://cdn.jsdelivr.net/npm/@walkeros/collector/dist/index.mjs'
  );
  const { createSource } = await import(
    'https://cdn.jsdelivr.net/npm/@walkeros/core/dist/index.mjs'
  );
  const { sourceBrowser } = await import(
    'https://cdn.jsdelivr.net/npm/@walkeros/web-source-browser/dist/index.mjs'
  );

  const { collector, elb } = await createCollector({
    sources: {
      browser: createSource(sourceBrowser, {
        settings: {
          prefix: 'data-elb',
          pageview: true,
          session: true,
        },
      }),
    },
  });
</script>
```

</TabItem>
</Tabs>

## Configuration reference

<SettingsTable
  properties={[
    {
      name: 'prefix',
      type: 'string',
      description: 'Prefix for data attributes used in DOM tracking',
      required: false,
      example: "'data-elb'",
    },
    {
      name: 'scope',
      type: 'Element | Document',
      description: 'DOM scope for event tracking (default: document)',
      required: false,
      example: 'document.querySelector("#app")',
    },
    {
      name: 'pageview',
      type: 'boolean',
      description: 'Enable automatic pageview tracking',
      required: false,
      example: 'true',
    },
    {
      name: 'session',
      type: 'boolean',
      description: 'Enable session tracking and management',
      required: false,
      example: 'true',
    },
    {
      name: 'elb',
      type: 'string',
      description: 'Custom name for the global elb function',
      required: false,
      example: "'elb'",
    },
    {
      name: 'name',
      type: 'string',
      description: 'Custom name for the browser source instance',
      required: false,
      example: "'mySource'",
    },
    {
      name: 'elbLayer',
      type: 'boolean | string | Elb.Layer',
      description: 'Enable elbLayer for async command queuing',
      required: false,
      example: 'true',
    },
  ]}
/>

:::tip Two Different elb Functions

The collector provides **two different elb functions**:

1. **Collector elb** (`elb` from `createCollector`): Basic event tracking that
   works with all sources and destinations
2. **Browser Source elb** (`collector.sources.browser.elb` or direct from
   `createSource`): Enhanced function with browser-specific features

**Browser Source elb adds:**

- **DOM Commands**: `walker run`, `walker init` for DOM interaction
- **Flexible Arguments**: Support for multiple argument patterns
- **elbLayer Integration**: Automatic processing of queued commands

Use **separate source creation** for direct access to the enhanced elb function,
or access it via `collector.sources.browser.elb` in the unified API.

See [Commands](/docs/sources/web/browser/commands) for full browser source API
documentation.

:::
