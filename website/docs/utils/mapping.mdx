---
title: Mapping
sidebar_position: 1
---

import Link from '@docusaurus/Link';

The `Config` stores all individual `Event` configurations for each entity-action
event. The&nbsp;<Link to="#geteventmapping">`getEventMapping`</Link> function
returns the matching `Event` config while
the&nbsp;<Link to="#getmappingvalue">`getMappingValue`</Link> is used to resolve
the `Value` settings for a specific property to return an actual value. The
`custom` property is used by
each&nbsp;<Link to="/docs/destinations/">destination</Link> individually.

```ts
interface Config<CustomEvent> {
  [entity: string]: { [action: string]: Event<CustomEvent> };
}

interface Event<CustomEvent = unknown> {
  batch?: number; // Bundle events for batch processing (in ms)
  consent?: WalkerOS.Consent; // Required consent states process the event
  custom?: CustomEvent; // Arbitrary but protected configurations for custom event config
  ignore?: boolean; // Choose to no process an event when set to true
  name?: string; // Use a custom event name
}

const mapping: Config = {
  entity: {
    action: {
      batch: 2000,
      consent: { marketing: true },
      custom: { language: 'globals.language' },
      ignore: false,
      name: 'entity_action',
    },
  },
};
```

### getEventMapping

`getEventMapping(event: string, mapping?: Mapping.Config<unknown>): EventMapping`

```ts
interface EventMapping {
  eventMapping?: Event;
  mappingKey?: string;
}
```

### getMappingValue

`getMappingValue(event: WalkerOS.Event, mapping: Mapping.Value, instance?: WalkerOS.Instance): WalkerOS.Property | undefined`
is used by destinations to access values from the original event. This offers
flexibility to configure
individual&nbsp;<Link to="/docs/clients/walkerjs/tagging">tagging setups</Link>
to standard fields of the destination.

```ts
export type Value = ValueType | Array<ValueType>;
export type ValueType = string | ValueConfig;

export interface ValueConfig {
  condition?: Condition;
  consent?: WalkerOS.Consent;
  fn?: Fn;
  key?: string;
  validate?: Validate;
  value?: WalkerOS.PropertyType;
}
```

An empty `ValueType` will return `undefined`.
