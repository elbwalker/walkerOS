---
title: Meta Pixel
description:
  How to send events to Meta Pixel (formerly Facebook Pixel) with walker.js
---

import PackageLink from '@site/src/components/docs/package-link';
import Link from '@docusaurus/Link';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import { getEvent } from '@walkerOS/utils';
import {
  DestinationContextProvider,
  DestinationInit,
  DestinationPush,
} from '@site/src/components/organisms/liveDestination';
import {
  destinationMetaPixel,
  destinationMetaPixelExamples,
} from '@walkerOS/web-meta';

<DestinationContextProvider
  destination={destinationMetaPixel}
  fnName='fbq'
>

<PackageLink
  browser="@walkerOS/web-meta"
  es5="@walkerOS/web-meta"
  github="packages/web/meta"
  npm="@walkerOS/web-meta"
/>

With [Meta Pixel](https://developers.facebook.com/docs/meta-pixel/) you can
track visitor activity on a website and track conversions to appear in the Meta
Ads Manager.

## Installation

<Tabs>
  <TabItem value="ts" label="TypeScript" default>
Install the destination via npm

```bash
npm i @walkerOS/web-meta
```

```js
import { elb } from '@walkerOS/web';
import { destinationMetaPixel } from '@walkerOS/web-meta';

elb('walker destination', destinationMetaPixel, config);
```

  </TabItem>
  <TabItem value="script" label="Script">

Load the destination via dynamic import

```html
<script>
  // Upload the dist/index.mjs on your own server
  const destination = (
    await import(
      'https://cdn.jsdelivr.net/npm/@walkerOS/web-meta/dist/index.mjs'
    )
  ).default;

  elb('walker destination', destination, config);
</script>
```

  </TabItem>
  <TabItem value="code" label="Code">
Copy the code from the&nbsp;<Link to="https://cdn.jsdelivr.net/npm/@walkerOS/web-meta@latest/dist/index.browser.js">index.browser.js</Link> file

```js
(function () {
  'use strict';
  var Destination = (() => {})(); // This is the copied code

  elb('walker destination', Destination.destinationMetaPixel, config);
})();
```

  </TabItem>
</Tabs>

## Configuration

Configure your meta pixel destination with
your&nbsp;<Link to="https://www.facebook.com/business/help/952192354843755?id=1205376682832142">Pixel
ID</Link>.

#### Example

<DestinationInit
  custom={`{
    pixelId: '1234567890', // Required
  }`}
/>

### Custom

| Property  | Type    | Description                              |
| --------- | ------- | ---------------------------------------- |
| pixelId\* | string  | Ads account ID used for every conversion |
| currency  | string  | Default currency for conversions         |
| pageview  | boolean | Whether to send the PageView event       |

Properties with a `*` are required.

### CustomEvent

For the custom event mapping (`mapping.entity.action.custom`):

For `track`, use one of the official
[standard event names](https://developers.facebook.com/docs/facebook-pixel/reference#standard-events),
otherwise `trackCustom` will be used.

| Property     | Type   | Description                                                          |
| ------------ | ------ | -------------------------------------------------------------------- |
| content_ids  | string | Data property key to use in content_ids, e.g., "data.product_ids".   |
| content_name | string | Data property key to use as content_name, e.g., "data.product_name". |
| content_type | string | Type of content, e.g., "product".                                    |
| contents     | object | Contains `id` and `quantity` for content, accessible via wildcard.   |
| track        | string | Standard event to track, e.g., "Purchase".                           |
| value        | string | Data property key for value, e.g., "data.value".                     |

`contents` is an object with the following properties:

- `id`: PropertyMapping (`string` or object with `key` and optional `default`)
- `quantity`: PropertyMapping (`string` or object with `key` and optional
  `default`)

## Mapping

### ViewContent

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('product view')}
  mapping={destinationMetaPixelExamples.ViewContent}
/>

### AddToCart

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('product add')}
  mapping={destinationMetaPixelExamples.AddToCart}
/>

### InitiateCheckout

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('cart view')}
  mapping={destinationMetaPixelExamples.InitiateCheckout}
/>

### Purchase

<DestinationPush
  smallText={true}
  height={'512px'}
  event={getEvent('order complete')}
  mapping={destinationMetaPixelExamples.Purchase}
/>

:::info

If you need professional support with your walkerOS implementation, check out
our&nbsp;<Link to="/services">services</Link>.

:::

</DestinationContextProvider>
